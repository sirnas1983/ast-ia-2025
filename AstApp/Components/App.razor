<!DOCTYPE html>
<html lang="es-ar">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="AstApp.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
    <script>
        window.generarQRDesdeStorage = function() {
            const container = document.getElementById("qr-container");
            container.innerHTML = "";

            const compressedData = localStorage.getItem("ast-qr-data");
            if (!compressedData) {
                container.innerHTML = "No hay datos para generar QR";
                return;
            }

            // El QR contendrá el texto comprimido (más corto)
            var typeNumber = 10;
            var errorCorrectionLevel = 'L';
            var qr = qrcode(typeNumber, errorCorrectionLevel);
            qr.addData(compressedData);
            qr.make();

            container.innerHTML = qr.createImgTag(6);
        };
    </script>
    <script>
        window.mostrarToast = () => {
        const toastEl = document.getElementById('toastMensaje');
        const toast = bootstrap.Toast.getOrCreateInstance(toastEl);
        toast.show();
        };
    </script>
    <HeadOutlet />
</head>


<body>

    <Routes />

    <script src="_framework/blazor.web.js"></script>
</body>

</html>
